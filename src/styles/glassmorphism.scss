// Glassmorphism Effect (毛玻璃效果)
// 基于 https://www.yysuni.com/ 的实现

@mixin glass-card-base(
  $bg: rgba(255, 255, 255, 0.12),
  $border: rgba(17, 24, 39, 0.12),
  $radius: 40px,
  $blur: 4px
) {
  background-color: $bg;
  -webkit-backdrop-filter: blur($blur);
  backdrop-filter: blur($blur);
  box-shadow:
    0 40px 50px -32px rgba(0, 0, 0, 0.05),
    inset 0 0 20px rgba(255, 255, 255, 0.25);
  border: 1px solid $border;
  border-radius: $radius;
  position: relative;
  z-index: 1;
}

@mixin glass-card-hover($bg: rgba(255, 255, 255, 0.16)) {
  background-color: $bg;
  box-shadow:
    0 50px 60px -40px rgba(0, 0, 0, 0.08),
    inset 0 0 25px rgba(255, 255, 255, 0.35);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

@mixin glass-card-dark-base(
  $bg: rgba(0, 0, 0, 0.3),
  $border: rgba(255, 255, 255, 0.16)
) {
  background-color: $bg;
  border-color: $border;
  box-shadow:
    0 40px 50px -32px rgba(0, 0, 0, 0.3),
    inset 0 0 20px rgba(255, 255, 255, 0.05);
}

@mixin glass-card-dark-hover($bg: rgba(0, 0, 0, 0.4)) {
  background-color: $bg;
  box-shadow:
    0 50px 60px -40px rgba(0, 0, 0, 0.4),
    inset 0 0 25px rgba(255, 255, 255, 0.08);
}

// Bottom bar variant (mobile fixed toolbars).
// Intentionally does NOT set `position` / `z-index` so it can be used in
// fixed/sticky containers without side effects.
@mixin glass-bottom-bar(
  $bg: rgba(255, 255, 255, 0.72),
  $border: rgba(17, 24, 39, 0.08),
  $blur: 14px
) {
  background-color: $bg;
  -webkit-backdrop-filter: blur($blur);
  backdrop-filter: blur($blur);
  border-top: 1px solid $border;
  box-shadow:
    0 -18px 40px rgba(17, 24, 39, 0.12),
    inset 0 1px 0 rgba(255, 255, 255, 0.35);
}

.glass-card {
  // 极低不透明度的白色背景 + 毛玻璃模糊效果 + 边框
  @include glass-card-base();
}

// 变体：更强的玻璃效果（适合卡片）
.glass-card--strong {
  @include glass-card-base(
    $bg: rgba(255, 255, 255, 0.08),
    $border: rgba(17, 24, 39, 0.12),
    $radius: 40px,
    $blur: 8px
  );
  box-shadow:
    0 40px 50px -32px rgba(0, 0, 0, 0.08),
    inset 0 0 20px rgba(255, 255, 255, 0.3);
}

// 变体：更轻的玻璃效果（适合背景装饰）
.glass-card--light {
  @include glass-card-base(
    $bg: rgba(255, 255, 255, 0.02),
    $border: rgba(17, 24, 39, 0.12),
    $radius: 40px,
    $blur: 2px
  );
  box-shadow:
    0 20px 30px -20px rgba(0, 0, 0, 0.03),
    inset 0 0 10px rgba(255, 255, 255, 0.15);
}

// 悬停效果：增强玻璃质感
.glass-card:hover {
  @include glass-card-hover();
}

// 针对小尺寸圆角的变体
.glass-card--rounded-md {
  border-radius: 24px;
}

.glass-card--rounded-lg {
  border-radius: 32px;
}

// 深色主题支持（如果需要）
@media (prefers-color-scheme: dark) {
  .glass-card {
    @include glass-card-dark-base();
  }

  .glass-card:hover {
    @include glass-card-dark-hover();
  }
}
